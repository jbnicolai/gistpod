#!/usr/bin/env node

var gist = require('../')
  , Helpers = gist.Helpers
  , PodfileUpdater = gist.PodfileUpdater

var program = require('commander')
program.parse(process.argv)


if (program.args.length < 2) {
    Helpers.CLI.dieError('Not enough arguments!')
}
else
{
    var podfileFilename = program.args[0]
    var podsToUpdate = program.args.slice(1)

    PodfileUpdater.podfileWithUpdatedGistRefs(podfileFilename, podsToUpdate, function (err, podfile) {
        if (err) { Helpers.CLI.dieError(err) }
        else     { Helpers.CLI.print(podfile) }
    })
}


// var podfileFilename = path.join( process.env['HOME'], 'projects', '_swift', 'ArmsControl', 'Podfile' )
// var podsToUpdate = ['ReactiveCocoaSwift', 'Starscream']